(self["webpackChunkdesafio_pontotel"]=self["webpackChunkdesafio_pontotel"]||[]).push([[422],{3786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>J});var s=a(3673),o=a(2323);const l={class:"container",style:{background:"linear-gradient(#261479, #443780)"}},r={class:"text-white text-h5"};function n(e,t,a,n,i,d){const u=(0,s.up)("Header"),c=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(c,{view:"hHh lpR fFf"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s.Wm)(u,{User:i.user,ButtonEnabled:i.buttonDisabled,RealodData:d.teste},null,8,["User","ButtonEnabled","RealodData"]),(0,s._)("div",r,"Olá "+(0,o.zw)(i.user.name),1)])])),_:1})}var i=a(9281),d=a(9538),u=a.n(d);const c={class:"row col-12 items-center"},p={class:"row col-11 items-center"},m=(0,s._)("img",{src:u()},null,-1),h={class:"titleHeader"},v={class:"row col-1 justify-end"};function b(e,t,a,l,r,n){const i=(0,s.up)("q-avatar"),d=(0,s.up)("ItemUser"),u=(0,s.up)("q-toolbar-title"),b=(0,s.up)("q-toolbar"),f=(0,s.up)("q-header");return(0,s.wg)(),(0,s.j4)(f,{elevated:"",class:"bg-indigo-7 text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s._)("div",p,[(0,s.Wm)(i,{class:"avatarHeader q-mr-sm"},{default:(0,s.w5)((()=>[m])),_:1}),(0,s._)("div",h,(0,o.zw)(this.User.email),1)]),(0,s._)("div",v,[(0,s.Wm)(d,{User:a.User,ButtonEnabled:a.ButtonEnabled,ReloadData:n.reloadData},null,8,["User","ButtonEnabled","ReloadData"])])])])),_:1})])),_:1})])),_:1})}const f={class:"row no-wrap q-pa-md"},w={class:"column justify-center"},g=(0,s._)("div",{class:"text-h6 q-mb-md",style:{"font-family":"'Ruthie', cursive","font-size":"40px"}},"Pontotel",-1),D={style:{"margin-top":"30px"}},_={class:"text-center"},y={class:"text-center q-mb-md"},k={class:"column items-center"},U={class:"text-white"},x={class:"text-subtitle2 ellipsis q-mt-md"},q={class:"text-subtitle2 q-mb-xs"};function Z(e,t,a,l,r,n){const i=(0,s.up)("q-btn"),d=(0,s.up)("q-separator"),u=(0,s.up)("q-avatar"),c=(0,s.up)("q-menu"),p=(0,s.up)("UserDialog"),m=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(i,{disable:a.ButtonEnabled,class:"float-right",icon:"exit_to_app",size:"13px",style:{background:"#080808"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",f,[(0,s._)("div",w,[g,(0,s._)("div",D,[(0,s._)("div",_,"Versão: "+(0,o.zw)(r.versaoApp),1),(0,s._)("div",y,"Data: "+(0,o.zw)(r.dataVersaoApp),1),(0,s.wy)((0,s.Wm)(i,{onClick:n.openDialogUser,class:"q-ml-xs",color:"red",label:"Editar Dados",push:"",size:"sm"},null,8,["onClick"]),[[m]])])]),(0,s.Wm)(d,{vertical:"",inset:"",class:"q-mx-lg"}),(0,s._)("div",k,[(0,s.Wm)(u,{size:"72px",class:"bg-dark"},{default:(0,s.w5)((()=>[(0,s._)("div",U,(0,o.zw)(a.User.name.substr(0,1)),1)])),_:1}),(0,s._)("div",x,(0,o.zw)(a.User.name),1),(0,s._)("div",q,(0,o.zw)(a.User.email),1),(0,s.wy)((0,s.Wm)(i,{onClick:n.removeItemsLocalStorage,color:"primary",label:"Sair",push:"",size:"sm"},null,8,["onClick"]),[[m]])])])])),_:1}),(0,s.Wm)(p,{ref:"userDialog",onReloadData:n.reloadData},null,8,["onReloadData"])])),_:1},8,["disable"])}var z=a(2248);const R={name:"Item-Menu",components:{UserDialog:z.Z},props:{User:Object,ReloadData:Function,ButtonEnabled:{type:Boolean,default:!0}},data(){return{versaoApp:"",dataVersaoApp:""}},methods:{openDialogUser(){this.$refs.userDialog.show(this.User,"Editar Dados",!0)},reloadData(){this.ReloadData()},removeItemsLocalStorage(){localStorage.removeItem("token"),localStorage.removeItem("tokenContent"),this.$router.push("/"),window.history.forward()}},mounted(){this.versaoApp="1.0.0",this.dataVersaoApp="07/11/2021"}};var B=a(4260),W=a(8240),E=a(811),Q=a(5869),C=a(5096),I=a(677),S=a(7518),A=a.n(S);const H=(0,B.Z)(R,[["render",Z]]),j=H;A()(R,"components",{QBtn:W.Z,QMenu:E.Z,QSeparator:Q.Z,QAvatar:C.Z}),A()(R,"directives",{ClosePopup:I.Z});const T={name:"Header",props:{User:Object,RealodData:Function,ButtonEnabled:{type:Boolean,default:!0}},components:{ItemUser:j},methods:{reloadData(){this.RealodData()}}};var V=a(3812),$=a(9570),O=a(3747);const F=(0,B.Z)(T,[["render",b]]),L=F;A()(T,"components",{QHeader:V.Z,QToolbar:$.Z,QToolbarTitle:O.Z,QAvatar:C.Z});const M={name:"Home",components:{Header:L},data(){return{user:{},buttonDisabled:!0}},methods:{verifyToken(){var e=localStorage.getItem("token");null!=e?(0,i.dX)("auth/token").then((async e=>{if(200!=e.status)this.$router.push("/");else if(200==e.status){var t=JSON.parse(localStorage.getItem("tokenContent"));(0,i.dX)("user/"+t.id).then((async e=>{200==e.status&&(this.user=e.data,this.buttonDisabled=!this.buttonDisabled,console.log("Verificado..."))})).catch((e=>{console.log(e)}))}})).catch((e=>{console.log(e),this.$router.push("/")})):this.$router.push("/")},teste(){this.verifyToken(),this.buttonDisabled=!this.buttonDisabled}},beforeMount(){this.verifyToken()}};var P=a(3066);const X=(0,B.Z)(M,[["render",n]]),J=X;A()(M,"components",{QLayout:P.Z})},9538:(e,t,a)=>{e.exports=a.p+"img/avatarUser.41396c75.png"}}]);